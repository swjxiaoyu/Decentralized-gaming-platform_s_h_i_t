# 区块链游戏钱包系统

## 📁 项目结构

```
blockchain-wallet-simple/
├── 📄 核心文件
│   ├── server.js                    # 主服务器文件
│   ├── index.html                   # 主应用界面
│   ├── package.json                 # 项目配置
│   └── package-lock.json           # 依赖锁定文件
├── 📄 智能合约
│   └── contracts/
│       └── GameWallet.sol          # 游戏钱包合约
├── 📄 协议相关
│   ├── protocol-test-tool.html     # 协议测试工具
│   ├── game-link-protocol-schema.json # 协议规范
│   └── README-协议.md              # 协议说明
├── 📄 配置文件
│   ├── 配置信息.txt                 # 完整配置
│   ├── 配置信息-简化版.txt          # 简化配置
│   └── contract-update-log.json     # 合约更新日志
├── 📄 启动脚本
│   ├── start-all.bat               # 一键启动所有服务
│   ├── stop-all.bat                # 停止所有服务
│   └── start.bat                   # 简单启动脚本
└── 📄 文档
    ├── README.md                   # 项目说明
    ├── API文档.md                   # API文档
    └── 游戏链路协议规范.md          # 协议规范
```

## 🚀 快速开始

### 方法1: 一键启动 (推荐)
```bash
# 双击运行
start-all.bat
```

### 方法2: 手动启动
```bash
# 1. 启动Ganache
npx ganache --host 0.0.0.0 --port 8545 --accounts 10 --defaultBalanceEther 100

# 2. 启动服务器
node server.js
```

### 方法3: 停止服务
```bash
# 双击运行
stop-all.bat
```

## 🌐 访问地址

- **主应用**: http://localhost:3000/index.html
- **协议测试**: http://localhost:3000/protocol-test-tool.html
- **游戏中心**: http://localhost:3000/index-main.html
- **黄金矿工**: http://localhost:3000/gold-miner.html

## 📋 系统要求

- **Node.js**: v14.0.0 或更高版本
- **Ganache**: 用于本地区块链网络
- **MetaMask**: 浏览器钱包扩展
- **现代浏览器**: Chrome, Firefox, Edge 等

## 🔧 配置说明

### MetaMask 网络配置
- **网络名称**: Game Wallet Test Network
- **RPC URL**: http://localhost:8545
- **链ID**: 1337
- **货币符号**: ETH

### 默认账户信息
- **地址**: 0x0D6475cfC10d1bc30ff79c21325243ff471fA81d
- **私钥**: 0xd87e72671d124473105bdbfc5025f6057bdcca368831f6e1f556210db8e5bde2
- **余额**: 100 ETH

## 🎮 功能特性

### 核心功能
- ✅ 区块链钱包管理
- ✅ 智能合约交互
- ✅ 资产转移和交易
- ✅ 游戏内货币系统
- ✅ 跨游戏资产互操作

### 游戏功能
- ✅ 黄金矿工游戏
- ✅ 游戏中心界面
- ✅ 动态背景效果
- ✅ 响应式设计

### 协议功能
- ✅ 游戏链路协议
- ✅ 标准化API接口
- ✅ 跨游戏资产转移
- ✅ 汇率查询系统

## 🛠️ 开发指南

### 环境搭建
1. 克隆项目到本地
2. 安装Node.js依赖: `npm install`
3. 启动Ganache本地网络
4. 运行服务器: `node server.js`

### 智能合约部署
1. 在MetaMask中导入Ganache账户
2. 切换到Ganache网络
3. 在钱包界面中部署新合约
4. 记录合约地址用于后续操作

### 协议集成
1. 参考 `游戏链路协议规范.md`
2. 使用 `game-link-protocol-schema.json` 验证数据格式
3. 通过 `protocol-test-tool.html` 测试API接口

## 📊 技术栈

### 前端技术
- **HTML5**: 页面结构
- **CSS3**: 样式和动画
- **JavaScript**: 交互逻辑
- **Web3.js**: 区块链交互

### 后端技术
- **Node.js**: 服务器运行环境
- **Express.js**: Web框架
- **Ganache**: 本地区块链网络

### 区块链技术
- **Solidity**: 智能合约语言
- **Ethereum**: 区块链平台
- **MetaMask**: 钱包集成

## 🔒 安全考虑

### 数据安全
- 私钥本地存储
- 交易签名验证
- 合约权限控制

### 网络安全
- HTTPS传输加密
- API接口认证
- 输入数据验证

## 🐛 常见问题

### Q: 无法连接MetaMask？
A: 检查网络配置，确保链ID为1337，RPC URL为http://localhost:8545

### Q: 合约部署失败？
A: 确保Ganache正在运行，账户有足够余额，网络连接正常

### Q: 游戏无法加载？
A: 检查服务器是否启动，端口3000是否被占用

### Q: 资产转移失败？
A: 检查余额是否充足，合约地址是否正确，网络是否稳定

## 📈 性能优化

### 前端优化
- 资源压缩和缓存
- 图片懒加载
- 代码分割

### 后端优化
- 数据库连接池
- 缓存机制
- 负载均衡

### 区块链优化
- Gas费用优化
- 批量交易处理
- 状态同步机制

## 🔮 未来规划

### 功能扩展
- 更多游戏类型
- NFT资产支持
- 跨链桥接功能
- 移动端适配

### 技术升级
- 微服务架构
- 容器化部署
- 自动化测试
- 持续集成

## 📞 技术支持

### 联系方式
- **GitHub**: https://github.com/swjxiaoyu/Decentralized-gaming-platform_s_h_i_t
- **Issues**: 通过GitHub Issues提交问题
- **文档**: 查看项目文档获取详细说明

### 贡献指南
1. Fork项目仓库
2. 创建功能分支
3. 提交代码更改
4. 发起Pull Request

---

**项目版本**: v1.0.0  
**最后更新**: 2025-01-18  
**维护团队**: 区块链游戏开发组